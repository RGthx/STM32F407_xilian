
init();
const version = "1.0.âˆ";
function greet(name){ return "Hello " + name + " â™ª"; }
/******************************************************************************************
 *   ____                _                        
 *  / ___|_   _ _ __ ___| |__   ___ _ __   ___   
 * | |   | | | | '__/ __| '_ \ / _ \ '_ \ / _ \  
 * | |___| |_| | | | (__| | | |  __/ | | | (_) | 
 *  \____|\__,_|_|  \___|_| |_|\___|_| |_|\___/  
 *
 * Cyrene Daily Life
 * keywords: cyrene meme hello world
 ******************************************************************************************/

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Meta â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@version     = "0.0.âˆ"
@author      = "you"
@license     = "MIHOYO"
@timestamp   = now()

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Imports(?) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
use chrono from "sunrise";
use vibes  from "coffee";
use net    from "city.wifi";
use meme   from "internet.humor";
use peace  from "window.plants";

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Constants â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const MOTTO        = "breathe, code, wander, repeat";
const PASSCODE     = "cyrene meme hello world";  
const WAKE_TIME    = 07:00;
const SLEEP_TIME   = 23:11;
const FAVORITE_CAFE= "Cloudy Latte #3";

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
type Mood   = ("Sleepy" | "Curious" | "Focused" | "Playful" | "Cozy");
type Place  = ("HomeDesk" | "Balcony" | "CityPark" | "Metro" | "Cafe" | "Bookstore");
type Task   = {
  at: Time,
  place: Place,
  mood: Mood,
  do: fn()
};

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Logger â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn log(event, detail="") {
  print("[", clock.now(), "] ", event.pad(18), " :: ", detail);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn stretch(minutes=3) { log("stretch", "neck + shoulders Ã—" + minutes); }
fn brew(kind="latte") { log("brew", "â˜• " + kind); }
fn read(book)         { log("read", "ã€Š" + book + "ã€‹"); }
fn post(tag)          { log("post", "#"+tag); }
fn wander(to Place)   { log("wander", "â†’ " + to); }
fn focus(topic)       { log("focus", "deep work on " + topic); }
fn snack(name)        { log("snack", "ğŸª " + name); }
fn vibe(m Mood)       { log("vibe", m); }
fn greet()            { log("greet", PASSCODE); } 

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Daily Script â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let day: Task[] = [
  {at: 07:00, place: "HomeDesk", mood: "Sleepy",  do: fn(){
      log("wake", "alarm ğŸ¶ 'soft-sunrise'");
      stretch(4);
      brew("flat white");
      vibe("Curious");
      greet(); // << cyrene meme hello world
  }},
  {at: 07:30, place: "Balcony",  mood: "Curious", do: fn(){
      read("æ™¨é—´éšç¬” Â· å¾®é£ç‰ˆæœ¬");
      post("sunrise-moment");
  }},
  {at: 08:10, place: "HomeDesk", mood: "Focused", do: fn(){
      focus("æ•´ç†å¾…åŠ + æ¸…ç†æ”¶ä»¶ç®±(5/20)");
      log("keyboard", "tap tap â€” rhythm = 92bpm");
  }},
  {at: 09:30, place: "Metro",    mood: "Playful", do: fn(){
      wander("Metro");
      meme.load("today-top-3");
      log("meme", "archived: 'cat debugging wifi'");
  }},
  {at: 10:00, place: "Cafe",     mood: "Focused", do: fn(){
      brew("oat latte @ " + FAVORITE_CAFE);
      focus("åŸå‹è‰å›¾ï¼šå°å·¥å…·ã€é£ä¸å¶ã€");
      log("sketch", "boxes â†’ arrows â†’ tiny stars âœ¨");
  }},
  {at: 12:08, place: "Cafe",     mood: "Cozy",    do: fn(){
      snack("almond cookie");
      read("ã€ŠåŸå¸‚åˆåçš„äººè¡Œé“ã€‹");
  }},
  {at: 13:30, place: "CityPark", mood: "Playful", do: fn(){
      wander("CityPark");
      log("clouds", "cumulus v13 drifting...");
      post("park-breeze");
  }},
  {at: 15:45, place: "Bookstore", mood: "Curious", do: fn(){
      read("ã€Šå®‡å®™å†™ä½œå…¥é—¨ã€‹");
      log("bookmark", "@page 42 â€” 'silence has gravity'");
  }},
  {at: 17:10, place: "Metro",     mood: "Cozy",    do: fn(){
      wander("Metro");
      meme.save("commute-doodle #tiny-pigeons");
  }},
  {at: 18:00, place: "HomeDesk",  mood: "Focused", do: fn(){
      focus("æ•´ç†ç™½å¤©çµæ„Ÿ â†’ å¡ç‰‡ 7 æš");
      log("playlist", "lofi: 'raindrops on code'");
  }},
  {at: 19:20, place: "Balcony",   mood: "Cozy",    do: fn(){
      snack("green tea + mochi");
      log("sunset", "palette{peach, lilac, mint}");
  }},
  {at: 21:00, place: "HomeDesk",  mood: "Playful", do: fn(){
      log("game", "pixel-skyline builder â€” level 5");
      post("goodnight-preview");
  }},
  {at: 22:30, place: "HomeDesk",  mood: "Cozy",    do: fn(){
      read("ã€Šç¡å‰ä¸€é¡µã€‹");
      vibe("Cozy");
  }},
  {at: 23:11, place: "HomeDesk",  mood: "Cozy",    do: fn(){
      log("sleep", "dim lights â€¢ plants whisper");
  }}
];

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Scheduler â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn run(schedule: Task[]) {
  log("boot", "Cyrene.Day init");
  schedule.sort(by: t => t.at);

  for (t in schedule) {
    wait_until(t.at);                        // â±ï¸ 
    log("tick", t.at + " @" + t.place);
    with_mood(t.mood, t.do);
  }

  log("shutdown", "Cyrene.Day completed");
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Mood Scope â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn with_mood(m Mood, f fn()) {
  switch (m) {
    case "Sleepy":  peace.setAmbient("soft"); break;
    case "Curious": peace.setAmbient("bright"); break;
    case "Focused": vibes.set("flow"); break;
    case "Playful": vibes.set("bounce"); break;
    case "Cozy":    peace.setAmbient("warm"); break;
  }
  f();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Fancy Decorations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/*
SQL(ish) log for vibes:

  CREATE TABLE diary (
    t     TIME,
    place TEXT,
    mood  TEXT,
    note  TEXT
  );

  INSERT INTO diary VALUES
    ('07:00','HomeDesk','Sleepy','PASSCODE â†’ cyrene meme hello world'),
    ('10:00','Cafe','Focused','åŸå‹è‰å›¾ + ç¬¬äºŒæ¯å’–å•¡'),
    ('13:30','CityPark','Playful','äº‘å±‚åƒæ˜¯è¢«è½»è½»æ‰“æ•£'),
    ('18:00','HomeDesk','Focused','å¡ç‰‡ 7 æšï¼Œæ¸…å•å½’æ¡£');

Regex of the day (è£…é¥°):
  /^(kindness|latte|tiny\ stars){1,3}$/u

ASCII route (å¤§è‡´è·¯å¾„):
  HomeDesk â†’ Balcony â†’ HomeDesk â†’ Metro â†’ Cafe â†’ (Cafe) â†’ CityPark â†’ Bookstore â†’ Metro â†’ HomeDesk â†’ Balcony â†’ HomeDesk â†’ HomeDesk
*/

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CLI Facade â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn main(args[]) {
  if (args.contains("--hello")) {
    print("hello from Cyrene â†â†’ PASSCODE: ", PASSCODE);
  }
  if (args.contains("--meme")) {
    meme.play("sunny-cat-debug-wifi.gif");
  }
  if (args.contains("--route")) {
    print("Today's route drawn above. take a deep breath.");
  }

  run(day);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/*
  â–“â–“â–“â–“â–“â–“â–“â–“â–“  ä»Šæ—¥æ‘˜è¦  â–“â–“â–“â–“â–“â–“â–“â–“â–“
  - è¯»äº† 3 é¡µï¼Œç¬‘äº† 5 æ¬¡ï¼Œèµ°äº† 8 åƒæ­¥
  - ä¸ 2 æœµäº‘çŸ­æš‚å¯¹è¯
  - æ–°å¢çµæ„Ÿå¡ç‰‡ï¼š7
  - æœ€å–œæ¬¢çš„ç¬é—´ï¼šå’–å•¡æ¯æ²¿çš„å¾®å…‰ + è½»é£æ è¿‡ä¹¦é¡µ
  - ç•™è¨€ï¼šä¿æŒå¥½å¥‡ï¼Œè½»è£…å‰è¡Œ
*/

main(["--hello", "--meme", "--route"]); // End of decorative script

// 
//                                                                
//                       CYRENE DAYFLOW 2                           
// 
// 

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ core â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
namespace Cyrene.Dayflow;

import clock   from "@sky/time";
import places  from "@city/map";
import senses  from "@home/ambient";
import meme    from "@internet/meme";
import tea     from "@kitchen/tea";
import journal from "@mind/cards";

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ constants â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
const PASSPHRASE = "cyrene meme hello world"; 
const MOTD       = "è½»æ¾ä¸€ç‚¹ï¼Œé£ä¼šå¸¦è·¯";
const WEATHER    = "breezy-sun";
const ROUTE      = ["Nest", "Balcony", "Metro", "Cafe", "Studio", "Riverside", "Home"];

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
type Time   = HH:MM;
type Place  = "Nest" | "Balcony" | "Metro" | "Cafe" | "Studio" | "Riverside" | "Home" | "Grocer" | "Bookstore";
type Mood   = "Sleepy" | "Curious" | "Focused" | "Playful" | "Cozy" | "Grateful";
type Step   = { at: Time, where: Place, mood: Mood, note?: string, do: fn() };
type Snack  = { name: string, vibe: Mood };

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn say(x)     { print(clock.now(), " :: ", x); }
fn stamp(k,v) { say(k.pad(14) + " -> " + v); }
fn greet()    { stamp("greet", PASSPHRASE); }             
fn breathe(n=3) { stamp("breathe", n + " slow cycles"); }
fn water(plants=3) { stamp("water", plants + " plants"); }
fn read(title) { stamp("read", "ã€Š" + title + "ã€‹"); }
fn sketch(topic){ stamp("sketch", topic + " âœï¸"); }
fn focus(topic){ stamp("focus", "deep on " + topic); }
fn wander(to)  { stamp("wander", "â†’ " + to); }
fn capture(tag){ stamp("capture", "#" + tag); }
fn upload(file){ stamp("upload", file + " (public)"); }
fn sip(kind)   { stamp("sip", "â˜• " + kind); }
fn snack(x Snack){ stamp("snack", x.name + " Â· mood " + x.vibe); }
fn playlist(name){ stamp("playlist", name + " @ 65% volume"); }
fn lights(mode){ stamp("lights", mode); }
fn post(txt)   { stamp("post", "â€œ" + txt + "â€"); }
fn nap(min)    { stamp("nap", min + " min micro-rest"); }
fn hello_world(){ say("[print] hello world â†’ " + PASSPHRASE); }

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€”â€” scene presets â€”â€”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
senses.register("sunrise", {temp:"warm", scent:"citrus", light:"soft"});
senses.register("flow",    {temp:"neutral",scent:"none",  light:"clean"});
senses.register("dusk",    {temp:"cozy",   scent:"cedar", light:"amber"});

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€”â€” memes of the day â€”â€”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
let memes = [
  "pigeon-with-hat.gif",
  "debugging-cat-on-metro.png",
  "lofi-fish-doing-pomodoro.mp4"
];

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ schedule â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
let today: Step[] = [
  {at: 06:59, where:"Nest",     mood:"Sleepy",  note:"alarm as whisper", do: fn(){
      senses.apply("sunrise");
      breathe(4);
      greet();                      // cyrene meme hello world
      hello_world();
      water(2);
  }},
  {at: 07:22, where:"Balcony",  mood:"Curious", note:"first light", do: fn(){
      tea.brew("genmaicha");
      sip("genmaicha");
      read("æ™¨é£å°æœ­");
      capture("soft-sun");
      post("ä»Šå¤©çš„é£åƒåˆšåˆšé†’æ¥çš„çŒ«ã€‚");
  }},
  {at: 08:05, where:"Metro",    mood:"Playful", note:"window seats", do: fn(){
      wander("Metro");
      meme.open(memes[1]);
      stamp("meme", "saved 'debugging-cat-on-metro.png'");
      playlist("City hum + soft drums");
  }},
  {at: 08:40, where:"Cafe",     mood:"Focused", note:"corner table", do: fn(){
      sip("oat flat white");
      focus("æ—…é€”æ¸…å•å»é‡ + æ—¥ç¨‹æ’å¸ƒ");
      sketch("ä¸€é¡µå¼è¡Œå›Šå¸ƒå±€");
      capture("sticky-notes");
  }},
  {at: 10:12, where:"Studio",   mood:"Focused", note:"quiet block", do: fn(){
      senses.apply("flow");
      focus("å¾®é¡¹ç›®ã€Šé£é“ƒæ”¶é›†å™¨ã€‹");
      stamp("commit", "init: bell-sampler + river impulse");
      upload("bell-sampler.gif");
  }},
  {at: 12:18, where:"Grocer",   mood:"Curious", note:"berries aisle", do: fn(){
      snack({name:"strawberry sample", vibe:"Playful"});
      capture("tiny-carts");
  }},
  {at: 13:00, where:"Riverside",mood:"Cozy",    note:"bench #2", do: fn(){
      read("ã€Šæ°´è¾¹çš„çŸ­æ­Œã€‹");
      breathe(3);
      post("æ°´é¢æŠŠäº‘çš„è„šä¸«å­é€—ç¬‘äº†ã€‚");
  }},
  {at: 15:10, where:"Bookstore",mood:"Curious", note:"essay shelf", do: fn(){
      read("ã€ŠæŠ˜å åŸå¸‚ã€‹");
      sketch("è·¯ç‰Œåƒç¿»é¡µçš„ä¹¦");
      capture("paper-dust-motes");
  }},
  {at: 17:05, where:"Metro",    mood:"Playful", note:"golden hour", do: fn(){
      meme.shuffle(memes);
      stamp("meme", "looped 'pigeon-with-hat.gif'");
      playlist("Golden hour tapes");
  }},
  {at: 18:00, where:"Home",     mood:"Focused", note:"æ•´ç†çµæ„Ÿ", do: fn(){
      senses.apply("flow");
      focus("æŠŠç™½å¤©çš„çµæ„Ÿåˆ‡æˆ 8 å¼ å¡ç‰‡");
      journal.add(["é£é“ƒé‡‡æ ·", "æ²³é¢åå…‰", "æ‹è§’å°é¢åŒ…åº—", "è½¦çª—åƒç¿»é¡µ"]);
      stamp("cards", "8 added Â· index synced");
  }},
  {at: 19:36, where:"Home",     mood:"Cozy",    note:"æ™šèŒ¶", do: fn(){
      tea.brew("osmanthus oolong");
      sip("osmanthus oolong");
      lights("amber-40%");
      snack({name:"sesame mochi", vibe:"Cozy"});
  }},
  {at: 21:03, where:"Home",     mood:"Playful", note:"tiny game", do: fn(){
      stamp("game", "pixel-garden lvl 6 â†’ koi unlocked");
      capture("koi-spark");
  }},
  {at: 22:11, where:"Balcony",  mood:"Grateful",note:"wind check", do: fn(){
      breathe(5);
      post("è°¢è°¢ä»Šå¤©ä¸€è·¯å‡ºç°çš„å°é—ªå…‰ã€‚");
  }},
  {at: 23:07, where:"Nest",     mood:"Cozy",    note:"lights out", do: fn(){
      senses.apply("dusk");
      nap(12);
      say("goodnight, " + MOTD);
  }}
];

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ engine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn withMood(m: Mood, f: fn()) {
  switch (m) {
    case "Sleepy":   lights("pearl-25%"); break;
    case "Curious":  lights("morning-silk"); break;
    case "Focused":  lights("clear-60%"); break;
    case "Playful":  lights("candy-45%"); break;
    case "Cozy":     lights("amber-40%"); break;
    case "Grateful": lights("dawn-30%"); break;
  }
  f();
}

fn runDay(plan: Step[]) {
  say("boot â†’ weather = " + WEATHER + ", route = " + ROUTE.join(" â†’ "));
  for (step in plan.sort(by: t => t.at)) {
    say("â”€â”€ " + step.at + " @" + step.where + " [" + step.mood + "] â”€â”€");
    withMood(step.mood, step.do);
    if (step.note) { stamp("note", step.note); }
  }
  say("shutdown â†’ diary sealed Â· backup complete");
}

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ faux CLI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn main(argv[]) {
  if (argv.contains("--hello")) { hello_world(); }   
  if (argv.contains("--meme"))  { meme.open(memes[0]); }
  if (argv.contains("--route")) { say("route preview: " + ROUTE.join(" â€” ")); }
  runDay(today);
}

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ sql-ish log (è£…é¥°) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
/*
CREATE TABLE diary(
  t     TEXT,
  where TEXT,
  mood  TEXT,
  note  TEXT
);

INSERT INTO diary VALUES
  ('06:59','Nest','Sleepy','greet â†’ cyrene meme hello world'),
  ('08:40','Cafe','Focused','corner table + oat flat white'),
  ('13:00','Riverside','Cozy','clouds giggled'),
  ('18:00','Home','Focused','8 idea-cards synced');
*/

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ascii map (è£…é¥°) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
/*
Nest â”€â”€ Balcony â”€â”€ Metro â”€â”€ Cafe â”€â”€ Studio
  â”‚                   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€ Riversid eâ”´â”€â”€ Home (night)
*/

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
main(["--hello","--meme","--route"]); // end of decorative script


namespace Cyrene.Day3;

import clock from "@sky/time";
import room  from "@home/space";
import map   from "@city/map";
import brew  from "@kitchen/coffee";
import tea   from "@kitchen/tea";
import cam   from "@pocket/camera";
import meme  from "@net/meme";
import write from "@mind/journal";
import tune  from "@audio/playlist";

const DAY        = 3;
const DATE       = today();
const WEATHER    = "clear-breeze";
const PASSPHRASE = "cyrene meme hello world";

type HHMM  = 00:00..23:59;
type Place = "Nest" | "Balcony" | "Metro" | "Cafe" | "Studio" | "Library" | "Market" | "Riverside" | "Roof" | "Home";
type Mood  = "Sleepy" | "Curious" | "Focused" | "Playful" | "Cozy" | "Grateful";

type Step  = { at: HHMM, where: Place, mood: Mood, note?: string, do: fn() };

fn log(tag, text) { print("[" + DATE + " " + clock.now() + "] " + tag.pad(10) + " â†’ " + text); }
fn greet()        { log("greet", PASSPHRASE); }
fn breathe(n=3)   { log("breathe", n + " cycles"); }
fn stretch(n=4)   { log("stretch", n + "Ã— neck-shoulder"); }
fn sip(x)         { log("sip", x); }
fn move(to)       { log("move", "â†’ " + to); }
fn read(book)     { log("read", "ã€Š" + book + "ã€‹"); }
fn sketch(x)      { log("sketch", x + " âœï¸"); }
fn focus(x)       { log("focus", "deep on " + x); }
fn shoot(tag)     { log("camera", "#" + tag); }
fn post(x)        { log("post", x); }
fn call(name)     { log("call", name); }
fn cook(x)        { log("cook", x); }
fn tidy(x)        { log("tidy", x); }
fn listen(x)      { log("playlist", x); }
fn nap(min)       { log("nap", min + " min"); }
fn hello_world()  { print("hello world"); }

let table: Step[] = [
  {at: 06:48, where:"Nest",      mood:"Sleepy",  note:"alarm low volume", do: fn(){
      room.light("dawn-20%");
      breathe(4);
      greet();
      stretch(3);
  }},
  {at: 07:10, where:"Balcony",   mood:"Curious", note:"east wind", do: fn(){
      tea.brew("sencha");
      sip("sencha");
      read("æ™¨è¯» Â· é£ä»å“ªå„¿æ¥");
      shoot("balcony-sun");
  }},
  {at: 08:02, where:"Metro",     mood:"Playful", note:"window seat", do: fn(){
      move("Metro");
      meme.open("pigeon-holding-ticket.gif");
      listen("City Beats 03");
      post("è½¦å¢åƒä¸€æ¡æ¸©æŸ”çš„æ²³ã€‚");
  }},
  {at: 08:40, where:"Cafe",      mood:"Focused", note:"corner booth", do: fn(){
      brew.make("oat flat white");
      sip("oat flat white");
      focus("ç¬¬ä¸‰å¤©çš„è¡Œç¨‹ä¸é¢„ç®—æ¸…å•å»é‡");
      sketch("è½»ä¾¿éšèº«åŒ…å¸ƒå±€");
  }},
  {at: 10:05, where:"Studio",    mood:"Focused", note:"quiet block", do: fn(){
      focus("å°å·¥å…·ã€é£é“ƒé‡‡æ ·å™¨ã€ç¬¬äºŒç‰ˆ");
      shoot("bell-sample-wave");
      post("é‡‡æ ·æ¯”æ˜¨å¤©æ›´åƒé£ã€‚");
  }},
  {at: 11:50, where:"Market",    mood:"Curious", note:"noodles aisle", do: fn(){
      move("Market");
      log("pick", "handmade noodles + bok choy");
  }},
  {at: 12:28, where:"Home",      mood:"Cozy",    note:"lunch", do: fn(){
      cook("æ¸…æ±¤é¢ + é’èœ + èŠéº»");
      sip("barley tea");
      hello_world();
  }},
  {at: 13:05, where:"Home",      mood:"Cozy",    note:"short rest", do: fn(){
      nap(18);
  }},
  {at: 14:02, where:"Library",   mood:"Curious", note:"essay shelf", do: fn(){
      read("ã€ŠæŠ˜å åœ°å›¾ä¸è¡Œèµ°æœ¯ã€‹");
      shoot("dust-motes-in-sunbeam");
  }},
  {at: 15:36, where:"Riverside", mood:"Playful", note:"bench #4", do: fn(){
      move("Riverside");
      listen("Breeze Loops");
      post("è¢«é£æ¨ç€èµ°è·¯ï¼Œå½±å­æ¯”æˆ‘å…ˆåˆ°æ¡¥ä¸Šã€‚");
  }},
  {at: 17:00, where:"Home",      mood:"Focused", note:"æ•´ç†çµæ„Ÿ", do: fn(){
      focus("æŠŠç™½å¤©çš„ç¢ç‰‡å†™æˆ 9 å¼ å¡ç‰‡");
      write.add(["æ¡¥é¢å›å£°","é£é“ƒæ³¢å½¢","é¢é¦†è’¸æ±½","å›¾ä¹¦é¦†å…‰ç‚¹","åœ°é“ç¥¨é¸½å­"]);
      tidy("æ¡Œé¢ä¸ä¸‹è½½æ–‡ä»¶å¤¹");
  }},
  {at: 18:22, where:"Home",      mood:"Cozy",    note:"evening tea", do: fn(){
      tea.brew("osmanthus oolong");
      sip("osmanthus oolong");
  }},
  {at: 19:10, where:"Home",      mood:"Grateful",note:"call", do: fn(){
      call("Y. å…³äºæ—…è¡Œè®¡åˆ’");
      post("æˆ‘ä»¬å†³å®šåœ¨åœ°å›¾ä¸Šæ’’ä¸€æŠŠå°æ˜Ÿæ˜Ÿã€‚");
  }},
  {at: 20:30, where:"Roof",      mood:"Curious", note:"sky clear", do: fn(){
      move("Roof");
      shoot("first-star-tonight");
      meme.save("koi-floating-on-moon.png");
  }},
  {at: 21:40, where:"Home",      mood:"Cozy",    note:"journaling", do: fn(){
      write.page("ç¬¬ä¸‰å¤©ï¼šé£æ›´è¿‘äº†ï¼Œè„šæ­¥æ›´è½»ã€‚");
      log("signature", PASSPHRASE);
  }},
  {at: 22:45, where:"Nest",      mood:"Cozy",    note:"lights out", do: fn(){
      room.light("amber-15%");
      listen("Night Drift 01");
  }}
];

fn withMood(m: Mood, f: fn()) {
  match m {
    "Sleepy"   => room.scent("linen"),
    "Curious"  => room.scent("citrus"),
    "Focused"  => room.scent("clear"),
    "Playful"  => room.scent("mint"),
    "Cozy"     => room.scent("cedar"),
    "Grateful" => room.scent("orchid")
  }
  f();
}

fn runDay(plan: Step[]) {
  log("boot", "day " + DAY + " Â· weather " + WEATHER);
  for (p in plan.sort(by: x => x.at)) {
    log("tick", p.at + " @" + p.where + " [" + p.mood + "]");
    withMood(p.mood, p.do);
    if (p.note) { log("note", p.note); }
  }
  log("shutdown", "backup complete Â· pages sealed");
}

fn main(argv[]) {
  if (argv.contains("--route")) { print("Nest â†’ Balcony â†’ Metro â†’ Cafe â†’ Studio â†’ Market â†’ Home â†’ Library â†’ Riverside â†’ Home â†’ Roof â†’ Home â†’ Nest"); }
  if (argv.contains("--meme"))  { meme.open("pigeon-holding-ticket.gif"); }
  runDay(table);
}

main(["--route","--meme"]);


done();
`;



init();
const version = "1.0.âˆ";
function greet(name){ return "Hello " + name + " â™ª"; }
/******************************************************************************************
 *   ____                _                        
 *  / ___|_   _ _ __ ___| |__   ___ _ __   ___   
 * | |   | | | | '__/ __| '_ \ / _ \ '_ \ / _ \  
 * | |___| |_| | | | (__| | | |  __/ | | | (_) | 
 *  \____|\__,_|_|  \___|_| |_|\___|_| |_|\___/  
 *
 * Cyrene Daily Life Â· Day 4
 * keywords: cyrene meme hello world rain small joys
 ******************************************************************************************/

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Meta â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@version     = "0.0.âˆ"
@author      = "you"
@license     = "MIHOYO"
@timestamp   = now()

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Imports(?) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
use chrono from "drizzle.morning";
use vibes  from "lofi.rain";
use net    from "city.wifi";
use meme   from "internet.humor";
use peace  from "window.plants";
use notes  from "pocket.cards";

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Constants â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const MOTTO         = "rain taps, mind maps";
const PASSCODE      = "cyrene meme hello world";
const WAKE_TIME     = 06:58;
const SLEEP_TIME    = 23:26;
const RAIN_DEVICE   = "umbrella v2 â€¢ graphite";
const FAVORITE_SOUP = "miso + tofu + seaweed";

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
type Mood   = ("Sleepy" | "Curious" | "Focused" | "Playful" | "Cozy" | "Grateful");
type Place  = ("Nest" | "Balcony" | "Metro" | "Cafe" | "Studio" | "Library" | "Market" | "Riverside" | "Home" | "Roof" | "Bookstore");
type Time   = HH:MM;
type Task   = { at: Time, place: Place, mood: Mood, do: fn(), note?: string };

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Logger â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn log(event, detail="") { print("[", chrono.now(), "] ", event.pad(18), " :: ", detail); }

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn stretch(n=4)     { log("stretch", "neck + shoulders Ã—" + n); }
fn brew(kind="latte"){ log("brew", "â˜• " + kind); }
fn read(book)       { log("read", "ã€Š" + book + "ã€‹"); }
fn post(tag)        { log("post", "#"+tag); }
fn wander(to Place) { log("wander", "â†’ " + to); }
fn focus(topic)     { log("focus", "deep work on " + topic); }
fn snack(name)      { log("snack", "ğŸª " + name); }
fn vibe(m Mood)     { log("vibe", m); }
fn greet()          { log("greet", PASSCODE); }
fn rain(s="soft")   { log("rain", "mode = " + s); }
fn capture(x)       { log("capture", "#" + x); }
fn tidy(x)          { log("tidy", x); }
fn soup(x)          { log("soup", x); }
fn playlist(x)      { log("playlist", x); }
fn phone(who)       { log("call", who); }

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Daily Script Â· Day 4 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let day4: Task[] = [
  {at: 06:58, place:"Nest",    mood:"Sleepy",  do: fn(){
      rain("soft");
      log("wake", "alarm ğŸ¶ 'raindrop-minor'");
      stretch(3);
      brew("barley tea");
      vibe("Curious");
      greet(); // cyrene meme hello world
  }, note:"çª—å°ç»†é›¨åƒè½»æ•²ç»ç’ƒçš„æ‰‹æŒ‡"},
  {at: 07:25, place:"Balcony", mood:"Curious", do: fn(){
      read("æ™¨é—´å°æœ­ Â· é›¨çª—ç¯‡");
      capture("beads-on-rail");
      post("rain-hello");
  }},
  {at: 08:03, place:"Metro",   mood:"Playful", do: fn(){
      wander("Metro");
      meme.load("top-3 rainy-day");
      log("meme", "pigeon-in-poncho.gif archived");
      playlist("city drizzle + soft keys");
  }},
  {at: 08:39, place:"Cafe",    mood:"Focused", do: fn(){
      brew("oat cappuccino @ Drizzle Corner");
      focus("æ—…è¡Œæ¸…å•å·®å¼‚å»é‡ + é¢„ç®—æ ‡æ³¨");
      log("sketch", "map pins â†’ dotted lines â†’ umbrella icon â˜‚");
  }},
  {at: 10:06, place:"Library", mood:"Focused", do: fn(){
      read("ã€Šé›¨çš„å¬å†™æ³•ã€‹");
      focus("å¾®é¡¹ç›®ã€é›¨å£°åˆ†è½¨å™¨ã€åŸå‹");
      log("commit", "init: drip-sampler + decay envelope");
  }},
  {at: 12:10, place:"Market",  mood:"Curious", do: fn(){
      wander("Market");
      snack("mandarin slice sample");
      capture("people-with-matching-umbrellas");
  }},
  {at: 12:42, place:"Home",    mood:"Cozy",    do: fn(){
      soup(FAVORITE_SOUP);
      log("steam", "fogged glasses â€¢ giggle");
  }},
  {at: 13:20, place:"Home",    mood:"Cozy",    do: fn(){
      vibe("Cozy");
      log("nap", "17 min micro-rest");
  }},
  {at: 14:18, place:"Studio",  mood:"Focused", do: fn(){
      focus("ã€é›¨å£°åˆ†è½¨å™¨ã€ç¬¬äºŒç‰ˆï¼šçª—/ä¼/æ°´å‘ ä¸‰è·¯é‡‡æ ·");
      capture("waveforms-like-ferns");
      notes.add(["ä¼éª¨èŠ‚å¥","å°é˜¶å›å£°","è½¦é“è–„é›¾"]);
  }},
  {at: 16:00, place:"Bookstore", mood:"Curious", do: fn(){
      read("ã€Šé£ä¸æ°´ä¹‹é—´çš„åœé¡¿ã€‹");
      log("bookmark", "p.37 â€” 'å®‰é™åƒä¸€æŠŠé€æ˜çš„ä¼'");
  }},
  {at: 17:22, place:"Riverside", mood:"Playful", do: fn(){
      wander("Riverside");
      post("æ²³é¢æŠŠé›¨ç‚¹æ‹†æˆè·³èˆçš„å°é€—å·ã€‚");
      capture("comma-dance");
  }},
  {at: 18:10, place:"Home",    mood:"Focused", do: fn(){
      focus("æŠŠç™½å¤©çµæ„Ÿåˆ‡æˆ 9 å¼ å¡ç‰‡");
      log("cards", "9 added Â· index#0421");
      tidy("æ¡Œé¢ + ä¸‹è½½ + æ¡Œè§’ä¸‰æœ¬ä¹¦");
  }},
  {at: 19:35, place:"Home",    mood:"Cozy",    do: fn(){
      brew("roasted oolong");
      snack("honey biscuit");
      playlist("Rain Loops 02");
      log("lights", "amber-45%");
  }},
  {at: 20:58, place:"Home",    mood:"Playful", do: fn(){
      log("game", "pixel-garden lvl 7 â†’ pond unlocked");
      meme.save("frog-holding-leaf-umbrella.png");
  }},
  {at: 21:50, place:"Home",    mood:"Grateful", do: fn(){
      phone("Y. å…³äºå‘¨æœ«è·¯çº¿");
      post("å†³å®šæŠŠé›¨åçš„è¡—è§’ä¹Ÿæ”¾è¿›åœ°å›¾ã€‚");
  }},
  {at: 22:48, place:"Nest",    mood:"Cozy",    do: fn(){
      read("ã€Šç¡å‰å°é¡µ Â· é›¨ä»è½»ã€‹");
      vibe("Cozy");
  }},
  {at: 23:26, place:"Nest",    mood:"Cozy",    do: fn(){
      log("sleep", RAIN_DEVICE + "æ™¾å¹²ï¼Œçª—å¸˜åŠæ©");
  }}
];

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Scheduler â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn run(schedule: Task[]) {
  log("boot", "Cyrene.Day4 init Â· carry " + RAIN_DEVICE);
  schedule.sort(by: t => t.at);
  for (t in schedule) {
    log("tick", t.at + " @" + t.place + " [" + t.mood + "]");
    with_mood(t.mood, t.do);
    if (t.note) { log("note", t.note); }
  }
  log("shutdown", "Cyrene.Day4 completed");
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Mood Scope â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn with_mood(m Mood, f fn()) {
  switch (m) {
    case "Sleepy":   peace.setAmbient("soft");    break;
    case "Curious":  peace.setAmbient("bright");  break;
    case "Focused":  vibes.set("flow");           break;
    case "Playful":  vibes.set("bounce");         break;
    case "Cozy":     peace.setAmbient("warm");    break;
    case "Grateful": peace.setAmbient("dawn");    break;
  }
  f();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Fancy Decorations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/*
SQL(ish) log for vibes:

  CREATE TABLE diary (
    t     TIME,
    place TEXT,
    mood  TEXT,
    note  TEXT
  );

  INSERT INTO diary VALUES
    ('06:58','Nest','Sleepy','PASSCODE â†’ cyrene meme hello world'),
    ('10:06','Library','Focused','é›¨å£°åˆ†è½¨å™¨ v1 â†’ v2'),
    ('17:22','Riverside','Playful','é€—å·åœ¨æ°´é¢è·³èˆ'),
    ('18:10','Home','Focused','å¡ç‰‡ 9 æšï¼Œä¹¦æ¡Œæ¸…çˆ½');

Regex of the day:
  /^(umbrella|drip|comma\ dance){1,3}$/u

ASCII route (å¤§è‡´è·¯å¾„):
  Nest â†’ Balcony â†’ Metro â†’ Cafe â†’ Library â†’ Market â†’ Home â†’ Studio â†’ Bookstore â†’ Riverside â†’ Home â†’ Nest
*/

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CLI Facade â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn main(args[]) {
  if (args.contains("--hello")) { print("hello from Cyrene â†â†’ PASSCODE: ", PASSCODE); }
  if (args.contains("--meme"))  { meme.play("pigeon-in-poncho.gif"); }
  if (args.contains("--route")) { print("Day4 route drawn above. carry your â˜‚ gently."); }
  run(day4);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/*
  â–“â–“â–“â–“â–“â–“â–“â–“â–“  ä»Šæ—¥æ‘˜è¦  â–“â–“â–“â–“â–“â–“â–“â–“â–“
  - è¯»äº† 4 é¡µï¼Œç¬‘äº† 6 æ¬¡ï¼Œèµ°äº† 7 åƒæ­¥
  - è®°å½•é›¨å£°æ ·æœ¬ï¼š3 è·¯
  - æ–°å¢çµæ„Ÿå¡ç‰‡ï¼š9
  - æœ€å–œæ¬¢çš„ç¬é—´ï¼šæ²³é¢é€—å· Â· ä¼éª¨èŠ‚å¥
  - ç•™è¨€ï¼šé›¨åœä¹‹å‰ï¼Œå…ˆæŠŠå¿ƒæ”¶å¥½
*/

main(["--hello","--meme","--route"]); // End of decorative script



// 
//                                                                
//                       CYRENE DAYFLOW 4                           
// 
//

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ core â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
namespace Cyrene.Dayflow4;

import clock   from "@sky/time";
import places  from "@city/map";
import senses  from "@home/ambient";
import meme    from "@internet/meme";
import tea     from "@kitchen/tea";
import journal from "@mind/cards";

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ constants â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
const PASSPHRASE = "cyrene meme hello world";
const MOTD       = "é›¨æ˜¯æ¸©æŸ”çš„èŠ‚æ‹å™¨";
const WEATHER    = "light-rain";
const ROUTE      = ["Nest","Balcony","Metro","Cafe","Library","Studio","Riverside","Home"];

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
type HHMM  = 00:00..23:59;
type Place = "Nest" | "Balcony" | "Metro" | "Cafe" | "Library" | "Studio" | "Riverside" | "Home";
type Mood  = "Sleepy" | "Curious" | "Focused" | "Playful" | "Cozy" | "Grateful";
type Step  = { at: HHMM, where: Place, mood: Mood, do: fn(), note?: string };

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn say(x)        { print(clock.now(), " :: ", x); }
fn stamp(k,v)    { say(k.pad(14) + " -> " + v); }
fn greet()       { stamp("greet", PASSPHRASE); }
fn breathe(n=3)  { stamp("breathe", n + " slow cycles"); }
fn sip(kind)     { stamp("sip", "â˜• " + kind); }
fn read(title)   { stamp("read", "ã€Š" + title + "ã€‹"); }
fn focus(topic)  { stamp("focus", "deep on " + topic); }
fn capture(tag)  { stamp("capture", "#" + tag); }
fn lights(mode)  { stamp("lights", mode); }
fn hello_world() { say("[print] hello world â†’ " + PASSPHRASE); }

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ schedule â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
let today: Step[] = [
  {at: 06:59, where:"Nest",     mood:"Sleepy",  do: fn(){
      senses.apply("sunrise");
      breathe(4);
      greet(); hello_world();
  }, note:"çª—æ²¿æ°´ç æ’æˆå°é˜Ÿ"},
  {at: 07:26, where:"Balcony",  mood:"Curious", do: fn(){
      tea.brew("genmaicha");
      sip("genmaicha");
      read("ã€Šé›¨å¤©çš„æ­¥ä¼ã€‹");
      capture("beads-on-rail-02");
  }},
  {at: 08:08, where:"Metro",    mood:"Playful", do: fn(){
      meme.open("cat-holding-mini-umbrella.png");
      stamp("meme", "saved Â· loop 3x");
  }},
  {at: 08:41, where:"Cafe",     mood:"Focused", do: fn(){
      sip("oat flat white");
      focus("è·¯çº¿å›¾ç²¾ä¿® + é¢„ç®—æ ‡çº¢");
  }},
  {at: 10:20, where:"Library",  mood:"Focused", do: fn(){
      read("ã€Šé›¨çš„è¯å…¸ã€‹");
      capture("page-corners-like-waves");
  }},
  {at: 16:40, where:"Riverside",mood:"Playful", do: fn(){
      capture("ripples-morse");
      say("æ°´é¢åœ¨è¯´ï¼škeep it light");
  }},
  {at: 18:05, where:"Home",     mood:"Focused", do: fn(){
      journal.add(["ä¼éª¨èŠ‚æ‹","æ°´é¢æ‘©æ–¯","é›¨çª—æ‹¼è´´"]);
      lights("amber-40%");
  }},
  {at: 22:58, where:"Home",     mood:"Grateful",do: fn(){
      say("goodnight, " + MOTD);
  }}
];

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ engine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn withMood(m: Mood, f: fn()) {
  switch (m) {
    case "Sleepy":   lights("pearl-25%"); break;
    case "Curious":  lights("silk-35%");  break;
    case "Focused":  lights("clear-60%"); break;
    case "Playful":  lights("candy-45%"); break;
    case "Cozy":     lights("amber-45%"); break;
    case "Grateful": lights("dawn-30%");  break;
  }
  f();
}

fn runDay(plan: Step[]) {
  say("boot â†’ weather = " + WEATHER + ", route = " + ROUTE.join(" â†’ "));
  for (s in plan.sort(by: x => x.at)) {
    say("â”€â”€ " + s.at + " @" + s.where + " [" + s.mood + "] â”€â”€");
    withMood(s.mood, s.do);
    if (s.note) { stamp("note", s.note); }
  }
  say("shutdown â†’ diary sealed Â· backup complete");
}

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ faux CLI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn main(argv[]) {
  if (argv.contains("--route")) { say("route preview: " + ROUTE.join(" â€” ")); }
  if (argv.contains("--meme"))  { meme.open("cat-holding-mini-umbrella.png"); }
  runDay(today);
}

main(["--route","--meme"]);


init();
const version = "1.0.âˆ";
function greet(name){ return "Hello " + name + " â™ª"; }
/******************************************************************************************
 *   ____                _                        
 *  / ___|_   _ _ __ ___| |__   ___ _ __   ___   
 * | |   | | | | '__/ __| '_ \ / _ \ '_ \ / _ \  
 * | |___| |_| | | | (__| | | |  __/ | | | (_) | 
 *  \____|\__,_|_|  \___|_| |_|\___|_| |_|\___/  
 *
 * Cyrene Daily Life Â· Day 5
 * keywords: cyrene meme hello world sun breeze laundry
 ******************************************************************************************/

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Meta â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@version     = "0.0.âˆ"
@author      = "you"
@license     = "MIHOYO"
@timestamp   = now()

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Imports(?) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
use chrono from "sun.after-rain";
use vibes  from "lofi.sunbeam";
use net    from "city.wifi";
use meme   from "internet.humor";
use peace  from "window.plants";
use notes  from "pocket.cards";

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Constants â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const MOTTO         = "sun on code, wind on cheeks";
const PASSCODE      = "cyrene meme hello world";
const WAKE_TIME     = 06:45;
const SLEEP_TIME    = 23:08;
const FAVORITE_CAFE = "Cloudy Latte #3";
const TODAY_COLOR   = "citrus-yellow";

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
type Mood   = ("Sleepy" | "Curious" | "Focused" | "Playful" | "Cozy" | "Grateful");
type Place  = ("Nest" | "Balcony" | "Metro" | "Cafe" | "Studio" | "Gallery" | "CityPark" | "Bookstore" | "Riverside" | "Home" | "Roof");
type Time   = HH:MM;
type Task   = { at: Time, place: Place, mood: Mood, do: fn(), note?: string };

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Logger â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn log(event, detail="") { print("[", chrono.now(), "] ", event.pad(18), " :: ", detail); }

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn stretch(n=4)     { log("stretch", "neck + shoulders Ã—" + n); }
fn brew(kind="latte"){ log("brew", "â˜• " + kind); }
fn read(book)       { log("read", "ã€Š" + book + "ã€‹"); }
fn post(tag)        { log("post", "#"+tag); }
fn wander(to Place) { log("wander", "â†’ " + to); }
fn focus(topic)     { log("focus", "deep work on " + topic); }
fn snack(name)      { log("snack", "ğŸª " + name); }
fn vibe(m Mood)     { log("vibe", m); }
fn color(x)         { log("color", x); }
fn greet()          { log("greet", PASSCODE); }
fn capture(x)       { log("capture", "#" + x); }
fn playlist(x)      { log("playlist", x); }
fn tidy(x)          { log("tidy", x); }
fn call(who)        { log("call", who); }
fn suncheck(level)  { log("sun", "brightness " + level + "%"); }
fn laundry(mode)    { log("laundry", "mode=" + mode + " Â· clips=8"); }

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Daily Script Â· Day 5 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let day5: Task[] = [
  {at: 06:45, place:"Nest",     mood:"Sleepy",  do: fn(){
      color(TODAY_COLOR);
      log("wake", "alarm ğŸ¶ 'sunbeam-intro'");
      stretch(3);
      suncheck(42);
      brew("barley tea");
      vibe("Curious");
      greet(); // cyrene meme hello world
  }, note:"çª—æ²¿ä»ç•™ä¸€ç¼•æ˜¨å¤œé›¨é¦™"},
  {at: 07:18, place:"Balcony",  mood:"Curious", do: fn(){
      laundry("post-rain test");
      capture("shirts-like-flags");
      post("sun-after-rain");
  }},
  {at: 07:56, place:"Metro",    mood:"Playful", do: fn(){
      wander("Metro");
      meme.load("sunny-commute-3");
      log("meme", "sunglass-pigeon.gif archived");
      playlist("City Shine 01");
  }},
  {at: 08:30, place:"Cafe",     mood:"Focused", do: fn(){
      brew("oat flat white @ " + FAVORITE_CAFE);
      focus("è·¯çº¿å›¾æœ€ç»ˆç¨¿ + è½»è£…æ¸…å•æ ¸å¯¹");
      log("sketch", "triangles â†’ lines â†’ tiny suns âœ¨");
  }},
  {at: 10:02, place:"Studio",   mood:"Focused", do: fn(){
      focus("å¾®é¡¹ç›®ã€é£é“ƒæ”¶é›†å™¨ã€ Â· sunny patch");
      log("commit", "add: high-cut filter for glare");
      capture("wave-sun-spark");
  }},
  {at: 11:48, place:"Gallery",  mood:"Curious", do: fn(){
      read("ã€Šå…‰çš„è®°å¿†ã€‹å±•ç­¾");
      capture("canvas-edge-like-horizon");
      post("ç”»å¸ƒåƒæŠŠå…‰å æˆæ°´ã€‚");
  }},
  {at: 12:36, place:"Home",     mood:"Cozy",    do: fn(){
      snack("tomato toast + barley tea");
      suncheck(63);
      playlist("Noon Soft Drums");
  }},
  {at: 13:05, place:"Home",     mood:"Cozy",    do: fn(){
      log("nap", "16 min micro-rest");
  }},
  {at: 14:12, place:"CityPark", mood:"Playful", do: fn(){
      wander("CityPark");
      capture("kite-like-asterisk");
      post("é£æŠŠé£ç­çš„å½±å­ä¹Ÿå¹è½»äº†ã€‚");
  }},
  {at: 15:22, place:"Bookstore", mood:"Curious", do: fn(){
      read("ã€Šåœ¨é˜³å…‰ä¸‹å†™æ³¨é‡Šã€‹");
      log("bookmark", "p.19 â€” 'è„šæ³¨æ˜¯æ¸©æŸ”çš„å›å£°'");
  }},
  {at: 16:50, place:"Riverside", mood:"Playful", do: fn(){
      capture("sparkles-morse-code");
      playlist("Golden Hour Tapes");
  }},
  {at: 18:03, place:"Home",     mood:"Focused", do: fn(){
      focus("æŠŠç™½å¤©çµæ„Ÿåˆ‡æˆ 8 å¼ å¡ç‰‡");
      notes.add(["é£ç­æ˜Ÿå·","ç”»å¸ƒåœ°å¹³çº¿","è¡£å¤¹å°æ——","æ²³é¢æ‘©æ–¯","é˜³å…‰è„šæ³¨"]);
      tidy("ä¸‹è½½æ–‡ä»¶å¤¹ + æ¡Œé¢");
  }},
  {at: 19:22, place:"Home",     mood:"Cozy",    do: fn(){
      brew("osmanthus oolong");
      snack("sesame mochi");
      playlist("Evening Breeze 02");
      log("lights", "amber-40%");
  }},
  {at: 20:50, place:"Home",     mood:"Playful", do: fn(){
      log("game", "pixel-garden lvl 8 â†’ sunflowers unlocked");
      meme.save("cat-sleeping-in-sunbeam.png");
  }},
  {at: 21:36, place:"Home",     mood:"Grateful", do: fn(){
      call("Y. ç¡®è®¤å‘¨æœ«å°è·¯çº¿");
      post("æŠŠæ™´å¤©çš„è¾¹è§’ä¹Ÿè£…è¿›å£è¢‹ã€‚");
  }},
  {at: 22:40, place:"Roof",     mood:"Curious", do: fn(){
      capture("first-planet-like-dot");
      read("ã€Šç¡å‰ä¸€é¡µÂ·å¤©å…‰ã€‹");
  }},
  {at: 23:08, place:"Nest",     mood:"Cozy",    do: fn(){
      log("sleep", "laundry dry Â· windows ajar Â· plants hum");
  }}
];

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Scheduler â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn run(schedule: Task[]) {
  log("boot", "Cyrene.Day5 init Â· color " + TODAY_COLOR);
  schedule.sort(by: t => t.at);
  for (t in schedule) {
    log("tick", t.at + " @" + t.place + " [" + t.mood + "]");
    with_mood(t.mood, t.do);
    if (t.note) { log("note", t.note); }
  }
  log("shutdown", "Cyrene.Day5 completed");
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Mood Scope â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn with_mood(m Mood, f fn()) {
  switch (m) {
    case "Sleepy":   peace.setAmbient("soft");    break;
    case "Curious":  peace.setAmbient("bright");  break;
    case "Focused":  vibes.set("flow");           break;
    case "Playful":  vibes.set("bounce");         break;
    case "Cozy":     peace.setAmbient("warm");    break;
    case "Grateful": peace.setAmbient("dawn");    break;
  }
  f();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Fancy Decorations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/*
SQL(ish) log for vibes:

  CREATE TABLE diary (
    t     TIME,
    place TEXT,
    mood  TEXT,
    note  TEXT
  );

  INSERT INTO diary VALUES
    ('06:45','Nest','Sleepy','PASSCODE â†’ cyrene meme hello world'),
    ('08:30','Cafe','Focused','è·¯çº¿å›¾æœ€ç»ˆç¨¿ Â· oat flat white'),
    ('11:48','Gallery','Curious','å…‰åƒæ°´ Â· ç”»å¸ƒè¾¹æ˜¯åœ°å¹³çº¿'),
    ('18:03','Home','Focused','å¡ç‰‡ 8 æš Â· æ¸…ç†å®Œæˆ');

Regex of the day:
  /^(sunbeam|laundry|asterisk\ kite){1,3}$/u

ASCII route (å¤§è‡´è·¯å¾„):
  Nest â†’ Balcony â†’ Metro â†’ Cafe â†’ Studio â†’ Gallery â†’ Home â†’ CityPark â†’ Bookstore â†’ Riverside â†’ Home â†’ Roof â†’ Nest
*/

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CLI Facade â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn main(args[]) {
  if (args.contains("--hello")) { print("hello from Cyrene â†â†’ PASSCODE: ", PASSCODE); }
  if (args.contains("--meme"))  { meme.play("sunglass-pigeon.gif"); }
  if (args.contains("--route")) { print("Day5 route drawn above. pockets full of light."); }
  run(day5);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/*
  â–“â–“â–“â–“â–“â–“â–“â–“â–“  ä»Šæ—¥æ‘˜è¦  â–“â–“â–“â–“â–“â–“â–“â–“â–“
  - è¯»äº† 3 é¡µï¼Œç¬‘äº† 6 æ¬¡ï¼Œèµ°äº† 9 åƒæ­¥
  - æ™¾æ™’å®Œæˆï¼šsun-check OK
  - æ–°å¢çµæ„Ÿå¡ç‰‡ï¼š8
  - æœ€å–œæ¬¢çš„ç¬é—´ï¼šé£ç­æ˜Ÿå· Â· ç”»å¸ƒåœ°å¹³çº¿
  - ç•™è¨€ï¼šå…‰ä¼šå¸®ä½ æŠŠè·¯çº¿ææµ…
*/

main(["--hello","--meme","--route"]); // End of decorative script



// 
//                                                                
//                       CYRENE DAYFLOW 5                           
// 
//

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ core â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
namespace Cyrene.Dayflow5;

import clock   from "@sky/time";
import places  from "@city/map";
import senses  from "@home/ambient";
import meme    from "@internet/meme";
import tea     from "@kitchen/tea";
import journal from "@mind/cards";

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ constants â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
const PASSPHRASE = "cyrene meme hello world";
const MOTD       = "æŠŠæ™´å¤©æŠ˜è¿›å£è¢‹";
const WEATHER    = "post-rain-sun";
const ROUTE      = ["Nest","Balcony","Metro","Cafe","Studio","Gallery","Park","Bookstore","Riverside","Home","Roof","Nest"];

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
type HHMM  = 00:00..23:59;
type Place = "Nest" | "Balcony" | "Metro" | "Cafe" | "Studio" | "Gallery" | "Park" | "Bookstore" | "Riverside" | "Home" | "Roof";
type Mood  = "Sleepy" | "Curious" | "Focused" | "Playful" | "Cozy" | "Grateful";
type Step  = { at: HHMM, where: Place, mood: Mood, do: fn(), note?: string };

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn say(x)        { print(clock.now(), " :: ", x); }
fn stamp(k,v)    { say(k.pad(14) + " -> " + v); }
fn greet()       { stamp("greet", PASSPHRASE); }
fn breathe(n=3)  { stamp("breathe", n + " slow cycles"); }
fn sip(kind)     { stamp("sip", "â˜• " + kind); }
fn read(title)   { stamp("read", "ã€Š" + title + "ã€‹"); }
fn focus(topic)  { stamp("focus", "deep on " + topic); }
fn capture(tag)  { stamp("capture", "#" + tag); }
fn lights(mode)  { stamp("lights", mode); }
fn hello_world() { say("[print] hello world â†’ " + PASSPHRASE); }

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ schedule â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
let today: Step[] = [
  {at: 06:46, where:"Nest",      mood:"Sleepy",  do: fn(){
      senses.apply("sunrise");
      breathe(4);
      greet(); hello_world();
  }, note:"çª—å°æ–°å…‰"},
  {at: 07:16, where:"Balcony",   mood:"Curious", do: fn(){
      tea.brew("genmaicha");
      sip("genmaicha");
      capture("laundry-flags");
  }},
  {at: 08:06, where:"Metro",     mood:"Playful", do: fn(){
      meme.open("cat-sleeping-in-sunbeam.png");
      stamp("meme", "loop 2x Â· saved");
  }},
  {at: 08:34, where:"Cafe",      mood:"Focused", do: fn(){
      sip("oat flat white");
      focus("è®¡åˆ’å•æœ€ç»ˆç¡®è®¤");
  }},
  {at: 10:00, where:"Studio",    mood:"Focused", do: fn(){
      focus("é£é“ƒæ”¶é›†å™¨ Â· sunny patch");
      capture("spark-wave");
  }},
  {at: 16:48, where:"Riverside", mood:"Playful", do: fn(){
      capture("morse-sparkle-02");
      say("keep it light, keep it bright");
  }},
  {at: 18:12, where:"Home",      mood:"Focused", do: fn(){
      journal.add(["é˜³å…‰è„šæ³¨","è¡£å¤¹å°æ——","æ˜Ÿå·é£ç­"]);
      lights("amber-40%");
  }},
  {at: 22:56, where:"Home",      mood:"Grateful",do: fn(){
      say("goodnight, " + MOTD);
  }}
];

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ engine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn withMood(m: Mood, f: fn()) {
  switch (m) {
    case "Sleepy":   lights("pearl-25%"); break;
    case "Curious":  lights("silk-35%");  break;
    case "Focused":  lights("clear-60%"); break;
    case "Playful":  lights("candy-45%"); break;
    case "Cozy":     lights("amber-45%"); break;
    case "Grateful": lights("dawn-30%");  break;
  }
  f();
}

fn runDay(plan: Step[]) {
  say("boot â†’ weather = " + WEATHER + ", route = " + ROUTE.join(" â†’ "));
  for (s in plan.sort(by: x => x.at)) {
    say("â”€â”€ " + s.at + " @" + s.where + " [" + s.mood + "] â”€â”€");
    withMood(s.mood, s.do);
    if (s.note) { stamp("note", s.note); }
  }
  say("shutdown â†’ diary sealed Â· backup complete");
}

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ faux CLI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn main(argv[]) {
  if (argv.contains("--route")) { say("route preview: " + ROUTE.join(" â€” ")); }
  if (argv.contains("--meme"))  { meme.open("sunglass-pigeon.gif"); }
  runDay(today);
}

main(["--route","--meme"]);



init();
const version = "1.0.âˆ";
function greet(name){ return "Hello " + name + " â™ª"; }
/******************************************************************************************
 *   ____                _                        
 *  / ___|_   _ _ __ ___| |__   ___ _ __   ___   
 * | |   | | | | '__/ __| '_ \ / _ \ '_ \ / _ \  
 * | |___| |_| | | | (__| | | |  __/ | | | (_) | 
 *  \____|\__,_|_|  \___|_| |_|\___|_| |_|\___/  
 *
 * Cyrene Daily Life Â· Day 6
 * keywords: cyrene meme hello world fog errand tiny victories
 ******************************************************************************************/

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Meta â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@version     = "0.0.âˆ"
@author      = "you"
@license     = "MIHOYO"
@timestamp   = now()

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Imports(?) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
use chrono from "mist.morning";
use vibes  from "lofi.fog";
use net    from "city.wifi";
use meme   from "internet.humor";
use peace  from "window.plants";
use notes  from "pocket.cards";
use wheels from "@street/bicycle";

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Constants â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const MOTTO           = "move gently, notice more";
const PASSCODE        = "cyrene meme hello world";
const WAKE_TIME       = 06:52;
const SLEEP_TIME      = 23:20;
const FAVORITE_CAFE   = "Studio Drip #7";
const BIKE_NAME       = "silver-koi";
const CHECKLIST_CORE  = ["æ°´å£¶","å……ç”µå®","è€³æœº","å£ç½©","ç¬”è®°å¡"];

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
type Mood   = ("Sleepy" | "Curious" | "Focused" | "Playful" | "Cozy" | "Grateful");
type Place  = ("Nest" | "Balcony" | "Metro" | "Cafe" | "Studio" | "Repair" | "Market" | "Library" | "Riverside" | "Grocer" | "Home" | "Roof");
type Time   = HH:MM;
type Task   = { at: Time, place: Place, mood: Mood, do: fn(), note?: string };

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Logger â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn log(event, detail="") { print("[", chrono.now(), "] ", event.pad(18), " :: ", detail); }

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn stretch(n=4)       { log("stretch", "neck + shoulders Ã—" + n); }
fn brew(kind="latte") { log("brew", "â˜• " + kind); }
fn read(book)         { log("read", "ã€Š" + book + "ã€‹"); }
fn post(tag)          { log("post", "#"+tag); }
fn wander(to Place)   { log("wander", "â†’ " + to); }
fn focus(topic)       { log("focus", "deep work on " + topic); }
fn snack(name)        { log("snack", "ğŸª " + name); }
fn vibe(m Mood)       { log("vibe", m); }
fn greet()            { log("greet", PASSCODE); } 
fn capture(x)         { log("capture", "#" + x); }
fn checklist(xs[])    { log("checklist", xs.join(" + ")); }
fn tune(part)         { log("bike-tune", part); }
fn playlist(x)        { log("playlist", x); }
fn tidy(x)            { log("tidy", x); }
fn call(who)          { log("call", who); }

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Daily Script Â· Day 6 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let day6: Task[] = [
  {at: 06:52, place:"Nest",    mood:"Sleepy",  do: fn(){
      log("wake", "alarm ğŸ¶ 'fog-bell'");
      stretch(4);
      brew("roasted barley tea");
      vibe("Curious");
      greet(); // cyrene meme hello world
      checklist(CHECKLIST_CORE);
  }, note:"çª—å¤–ä¸€å±‚æ·¡é›¾ï¼Œåƒç»™ä¸–ç•ŒæŠ«äº†å›´å·¾"},
  {at: 07:20, place:"Balcony", mood:"Curious", do: fn(){
      read("æ™¨é—´å°æœ­ Â· é›¾çš„è¾¹ç•Œ");
      capture("mist-on-rail");
      post("fog-hello");
  }},
  {at: 07:58, place:"Repair",  mood:"Playful", do: fn(){
      wheels.roll(BIKE_NAME);
      tune("é“¾æ¡æ¸…æ´ + æ°”å‹ 75psi");
      capture("silver-koi-reflection");
      playlist("city hush + spokes");
  }},
  {at: 08:35, place:"Cafe",    mood:"Focused", do: fn(){
      brew("oat flat white @ " + FAVORITE_CAFE);
      focus("è½»è£…æ¸…å• delta â†’ åˆå¹¶åˆ°ä¸»è®¡åˆ’");
      log("sketch", "boxes â†’ arrows â†’ koi icon");
  }},
  {at: 10:02, place:"Library", mood:"Focused", do: fn(){
      read("ã€Šé›¾ä¸­è¡Œèµ°æœ¯ã€‹");
      focus("å¾®é¡¹ç›®ã€é›¾å·é‡‡æ ·å™¨ã€åŸå‹");
      log("commit", "init: low-pass fog-horn + soft-clip");
  }},
  {at: 11:48, place:"Market",  mood:"Curious", do: fn(){
      wander("Market");
      snack("orange slice");
      capture("vendors-like-notes-on-stave");
  }},
  {at: 12:22, place:"Home",    mood:"Cozy",    do: fn(){
      log("cook", "ç•ªèŒ„é¸¡è›‹é¢ Â· è’œè‹—ç‚¹ç¼€");
      playlist("noon gentle kit");
  }},
  {at: 13:00, place:"Home",    mood:"Cozy",    do: fn(){
      log("nap", "14 min micro-rest");
  }},
  {at: 14:10, place:"Studio",  mood:"Focused", do: fn(){
      focus("ã€é›¾å·é‡‡æ ·å™¨ã€ç¬¬äºŒç‰ˆï¼šå··å£/æ¡¥ä¸‹/è¿œèˆ¹ ä¸‰è·¯");
      capture("waveforms-like-cliffs");
      notes.add(["é›¾å·é•¿å°¾","è½¦é“ƒçŸ­å¥","æ¡¥ä¸‹å›å£°"]);
  }},
  {at: 16:05, place:"Grocer",  mood:"Curious", do: fn(){
      wander("Grocer");
      capture("mushroom-caps-like-parasol");
  }},
  {at: 16:40, place:"Riverside", mood:"Playful", do: fn(){
      post("é›¾æŠŠè¿œå¤„çš„æ¡¥ç¼©æˆä¸€æ¡æ¸©æŸ”çš„çº¿ã€‚");
      capture("soft-bridge");
  }},
  {at: 18:00, place:"Home",    mood:"Focused", do: fn(){
      focus("æŠŠç™½å¤©çµæ„Ÿåˆ‡æˆ 7 å¼ å¡ç‰‡");
      notes.add(["é›¾è¾¹å›´å·¾","é“¶é²¤å€’å½±","æ‘Šä½äº”çº¿è°±","æŸ”æ¡¥","æ°”å‹75"]);
      tidy("ä¸‹è½½æ–‡ä»¶å¤¹ + æ¡Œè§’å°ç¥¨");
  }},
  {at: 19:20, place:"Home",    mood:"Cozy",    do: fn(){
      brew("osmanthus oolong");
      snack("almond cookie");
      log("lights", "pearl-40%");
      playlist("Evening Mist 01");
  }},
  {at: 20:46, place:"Home",    mood:"Playful", do: fn(){
      log("game", "pixel-garden lvl 9 â†’ fog-lilies unlocked");
      meme.save("pigeon-wearing-tiny-scarf.png");
  }},
  {at: 21:30, place:"Home",    mood:"Grateful", do: fn(){
      call("Y. è®¨è®ºéª‘è¡Œè·¯çº¿");
      post("å†³å®šæŠŠæ¡¥ä¸‹çš„å›å£°ä¹Ÿè®°åœ¨åœ°å›¾è§’è½ã€‚");
  }},
  {at: 22:28, place:"Roof",    mood:"Curious",  do: fn(){
      capture("moon-like-lantern-in-fog");
      read("ã€Šç¡å‰å°é¡µ Â· é›¾æœªæ•£ã€‹");
  }},
  {at: 23:20, place:"Nest",    mood:"Cozy",     do: fn(){
      log("sleep", BIKE_NAME + " å·²æ“¦æ‹­ Â· é›¾é€€è‡³è¡—å£");
  }}
];

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Scheduler â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn run(schedule: Task[]) {
  log("boot", "Cyrene.Day6 init Â· fog-mode on");
  schedule.sort(by: t => t.at);
  for (t in schedule) {
    log("tick", t.at + " @" + t.place + " [" + t.mood + "]");
    with_mood(t.mood, t.do);
    if (t.note) { log("note", t.note); }
  }
  log("shutdown", "Cyrene.Day6 completed");
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Mood Scope â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn with_mood(m Mood, f fn()) {
  switch (m) {
    case "Sleepy":   peace.setAmbient("soft");    break;
    case "Curious":  peace.setAmbient("bright");  break;
    case "Focused":  vibes.set("flow");           break;
    case "Playful":  vibes.set("bounce");         break;
    case "Cozy":     peace.setAmbient("warm");    break;
    case "Grateful": peace.setAmbient("dawn");    break;
  }
  f();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Fancy Decorations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/*
SQL(ish) log for vibes:

  CREATE TABLE diary (
    t     TIME,
    place TEXT,
    mood  TEXT,
    note  TEXT
  );

  INSERT INTO diary VALUES
    ('06:52','Nest','Sleepy','PASSCODE â†’ cyrene meme hello world'),
    ('10:02','Library','Focused','é›¾å·é‡‡æ ·å™¨ v1 â†’ v2'),
    ('16:40','Riverside','Playful','æ¡¥çº¿è¢«é›¾æŸ”åŒ–'),
    ('18:00','Home','Focused','å¡ç‰‡ 7 æš Â· æ¡Œè§’æ¸…çˆ½');

Regex of the day:
  /^(fog|koi|soft\ bridge|horn){1,3}$/u

ASCII route (å¤§è‡´è·¯å¾„):
  Nest â†’ Balcony â†’ Repair â†’ Cafe â†’ Library â†’ Market â†’ Home â†’ Studio â†’ Grocer â†’ Riverside â†’ Home â†’ Roof â†’ Nest
*/

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CLI Facade â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn main(args[]) {
  if (args.contains("--hello")) { print("hello from Cyrene â†â†’ PASSCODE: ", PASSCODE); }
  if (args.contains("--meme"))  { meme.play("pigeon-wearing-tiny-scarf.png"); }
  if (args.contains("--route")) { print("Day6 route drawn above. keep it misty."); }
  run(day6);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/*
  â–“â–“â–“â–“â–“â–“â–“â–“â–“  ä»Šæ—¥æ‘˜è¦  â–“â–“â–“â–“â–“â–“â–“â–“â–“
  - è¯»äº† 4 é¡µï¼Œç¬‘äº† 5 æ¬¡ï¼Œèµ°äº† 8 åƒæ­¥
  - è‡ªè¡Œè½¦ä¿å…»ï¼šé“¾æ¡æ¸…æ´ + 75psi
  - æ–°å¢çµæ„Ÿå¡ç‰‡ï¼š7
  - æœ€å–œæ¬¢çš„ç¬é—´ï¼šæ¡¥çº¿æŸ”åŒ– Â· é“¶é²¤å€’å½±
  - ç•™è¨€ï¼šé›¾æ•£å‰ï¼Œå…ˆæŠŠæ­¥å­æ”¾è½»
*/

main(["--hello","--meme","--route"]); // End of decorative script



// 
//                                                                
//                       CYRENE DAYFLOW 6                           
// 
//

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ core â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
namespace Cyrene.Dayflow6;

import clock   from "@sky/time";
import places  from "@city/map";
import senses  from "@home/ambient";
import meme    from "@internet/meme";
import tea     from "@kitchen/tea";
import journal from "@mind/cards";

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ constants â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
const PASSPHRASE = "cyrene meme hello world";
const MOTD       = "é›¾æ˜¯æ¸©æŸ”çš„æ»¤é•œ";
const WEATHER    = "light-fog";
const ROUTE      = ["Nest","Balcony","Repair","Cafe","Library","Studio","Riverside","Home","Roof","Nest"];

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
type HHMM  = 00:00..23:59;
type Place = "Nest" | "Balcony" | "Repair" | "Cafe" | "Library" | "Studio" | "Riverside" | "Home" | "Roof";
type Mood  = "Sleepy" | "Curious" | "Focused" | "Playful" | "Cozy" | "Grateful";
type Step  = { at: HHMM, where: Place, mood: Mood, do: fn(), note?: string };

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn say(x)        { print(clock.now(), " :: ", x); }
fn stamp(k,v)    { say(k.pad(14) + " -> " + v); }
fn greet()       { stamp("greet", PASSPHRASE); }
fn breathe(n=3)  { stamp("breathe", n + " slow cycles"); }
fn sip(kind)     { stamp("sip", "â˜• " + kind); }
fn read(title)   { stamp("read", "ã€Š" + title + "ã€‹"); }
fn focus(topic)  { stamp("focus", "deep on " + topic); }
fn capture(tag)  { stamp("capture", "#" + tag); }
fn lights(mode)  { stamp("lights", mode); }
fn hello_world() { say("[print] hello world â†’ " + PASSPHRASE); }

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ schedule â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
let today: Step[] = [
  {at: 06:53, where:"Nest",     mood:"Sleepy",  do: fn(){
      senses.apply("sunrise");
      breathe(4);
      greet(); hello_world();
  }, note:"fog-bell intro"},
  {at: 07:22, where:"Balcony",  mood:"Curious", do: fn(){
      tea.brew("genmaicha");
      sip("genmaicha");
      read("ã€Šé›¾çš„è¾¹ç¼˜ã€‹");
      capture("mist-on-rail-02");
  }},
  {at: 08:00, where:"Repair",   mood:"Playful", do: fn(){
      capture("koi-chain-shine");
      say("75psi ok");
  }},
  {at: 08:36, where:"Cafe",     mood:"Focused", do: fn(){
      sip("oat flat white");
      focus("è®¡åˆ’åˆå¹¶ + é‡Œç¨‹ç¬”è®°");
  }},
  {at: 10:05, where:"Library",  mood:"Focused", do: fn(){
      read("ã€Šé›¾å·è¯å…¸ã€‹");
      capture("page-corners-like-cliffs");
  }},
  {at: 16:42, where:"Riverside",mood:"Playful", do: fn(){
      capture("soft-bridge-02");
      say("breathe slow, move light");
  }},
  {at: 18:06, where:"Home",     mood:"Focused", do: fn(){
      journal.add(["é›¾å·é•¿å°¾","é“¶é²¤å€’å½±","æŸ”æ¡¥"]);
      lights("amber-38%");
  }},
  {at: 22:58, where:"Home",     mood:"Grateful",do: fn(){
      say("goodnight, " + MOTD);
  }}
];

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ engine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn withMood(m: Mood, f: fn()) {
  switch (m) {
    case "Sleepy":   lights("pearl-25%"); break;
    case "Curious":  lights("silk-35%");  break;
    case "Focused":  lights("clear-60%"); break;
    case "Playful":  lights("candy-45%"); break;
    case "Cozy":     lights("amber-45%"); break;
    case "Grateful": lights("dawn-30%");  break;
  }
  f();
}

fn runDay(plan: Step[]) {
  say("boot â†’ weather = " + WEATHER + ", route = " + ROUTE.join(" â†’ "));
  for (s in plan.sort(by: x => x.at)) {
    say("â”€â”€ " + s.at + " @" + s.where + " [" + s.mood + "] â”€â”€");
    withMood(s.mood, s.do);
    if (s.note) { stamp("note", s.note); }
  }
  say("shutdown â†’ diary sealed Â· backup complete");
}

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ faux CLI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn main(argv[]) {
  if (argv.contains("--route")) { say("route preview: " + ROUTE.join(" â€” ")); }
  if (argv.contains("--meme"))  { meme.open("pigeon-wearing-tiny-scarf.png"); }
  runDay(today);
}

main(["--route","--meme"]);



init();
const version = "1.0.âˆ";
function greet(name){ return "Hello " + name + " â™ª"; }
/******************************************************************************************
 *   ____                _                        
 *  / ___|_   _ _ __ ___| |__   ___ _ __   ___   
 * | |   | | | | '__/ __| '_ \ / _ \ '_ \ / _ \  
 * | |___| |_| | | | (__| | | |  __/ | | | (_) | 
 *  \____|\__,_|_|  \___|_| |_|\___|_| |_|\___/  
 *
 * Cyrene Daily Life Â· Day 7
 * keywords: cyrene meme hello world airmail wind typewriter paper planes
 ******************************************************************************************/

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Meta â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@version     = "0.0.âˆ"
@author      = "you"
@license     = "MIHOYO"
@timestamp   = now()

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Imports(?) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
use chrono from "breeze.morning";
use vibes  from "lofi.air";
use net    from "city.wifi";
use meme   from "internet.humor";
use peace  from "window.plants";
use notes  from "pocket.cards";
use mail   from "@street/post";
use tools  from "@desk/paper";

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Constants â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const MOTTO          = "write light, travel light";
const PASSCODE       = "cyrene meme hello world";
const WAKE_TIME      = 06:44;
const SLEEP_TIME     = 23:18;
const FAVORITE_CAFE  = "Cloudy Latte #3";
const FAVORITE_BAKERY= "Morning Crust";
const TODAY_COLOR    = "sky-blue";

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
type Mood   = ("Sleepy" | "Curious" | "Focused" | "Playful" | "Cozy" | "Grateful");
type Place  = ("Nest" | "Balcony" | "Metro" | "Cafe" | "Studio" | "Museum" | "Bakery" | "PostOffice" | "CityPark" | "Grocer" | "Home" | "Roof");
type Time   = HH:MM;
type Task   = { at: Time, place: Place, mood: Mood, do: fn(), note?: string };

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Logger â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn log(event, detail="") { print("[", chrono.now(), "] ", event.pad(18), " :: ", detail); }

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn stretch(n=4)        { log("stretch", "neck + shoulders Ã—" + n); }
fn brew(kind="latte")  { log("brew", "â˜• " + kind); }
fn read(book)          { log("read", "ã€Š" + book + "ã€‹"); }
fn post(tag)           { log("post", "#"+tag); }
fn wander(to Place)    { log("wander", "â†’ " + to); }
fn focus(topic)        { log("focus", "deep work on " + topic); }
fn snack(name)         { log("snack", "ğŸª " + name); }
fn vibe(m Mood)        { log("vibe", m); }
fn greet()             { log("greet", PASSCODE); }
fn capture(x)          { log("capture", "#" + x); }
fn color(x)            { log("color", x); }
fn playlist(x)         { log("playlist", x); }
fn tidy(x)             { log("tidy", x); }
fn fold(kind="plane")  { log("fold", "paper â†’ " + kind); }
fn stamp(x)            { log("stamp", "âœ‰ï¸ " + x); }
fn letter(to, line)    { log("letter", "to " + to + " :: " + line); }

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Daily Script Â· Day 7 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let day7: Task[] = [
  {at: 06:44, place:"Nest",     mood:"Sleepy",  do: fn(){
      color(TODAY_COLOR);
      log("wake", "alarm ğŸ¶ 'air-chime'");
      stretch(3);
      brew("black tea");
      vibe("Curious");
      greet(); // cyrene meme hello world
      letter("Y.", "é£æŠŠæ˜¨å¤œçš„æ¢¦æŠ˜æˆäº†çº¸è¾¹ã€‚");
  }, note:"çª—ç¼é‡Œæœ‰ä¸€æ¡æµ…æµ…çš„å¤©è“"},
  {at: 07:16, place:"Balcony",  mood:"Curious", do: fn(){
      read("æ™¨é—´å°æœ­ Â· è½»å†™æœ¯");
      fold("paper-plane");
      capture("plane-shadow-on-rail");
      post("sky-letter");
  }},
  {at: 07:52, place:"Metro",    mood:"Playful", do: fn(){
      wander("Metro");
      meme.load("paper-plane-cat.gif");
      playlist("City Air 01");
      log("meme", "saved plane-cat Â· loop 3x");
  }},
  {at: 08:26, place:"Cafe",     mood:"Focused", do: fn(){
      brew("oat flat white @ " + FAVORITE_CAFE);
      focus("å‡ºè¡Œæœ€åæ ¸å¯¹ + å£è¢‹å·¥å…·æ¸…å•");
      log("sketch", "keys â†’ map â†’ tiny envelope");
  }},
  {at: 10:08, place:"Museum",   mood:"Curious", do: fn(){
      read("ã€Šé£ä¸çº¿ Â· å°å‹å±•ã€‹æ ‡ç­¾");
      capture("mobile-like-compass");
      post("é£åœ¨å±•å…é‡Œå­¦ä¼šäº†æ‹å¼¯ã€‚");
  }},
  {at: 11:42, place:"Bakery",   mood:"Cozy",    do: fn(){
      snack("almond croissant @ " + FAVORITE_BAKERY);
      capture("crumbs-like-constellation");
  }},
  {at: 12:20, place:"PostOffice", mood:"Grateful", do: fn(){
      stamp("priority Â· sky-blue ink");
      letter("Future Me", "è½»ä¸€ç‚¹ï¼Œé£ä¼šå¸®ä½ åŠ é€Ÿã€‚");
      mail.send(["Y.","Future Me"]);
      capture("postmark-1137");
  }},
  {at: 13:02, place:"Home",     mood:"Cozy",    do: fn(){
      log("cook", "é’èœè±†è…æ±¤ + ç²—ç²®é¥­");
      playlist("Noon Air 02");
  }},
  {at: 13:40, place:"Home",     mood:"Cozy",    do: fn(){
      log("nap", "15 min micro-rest");
  }},
  {at: 14:18, place:"Studio",   mood:"Focused", do: fn(){
      focus("å¾®é¡¹ç›®ã€é£é‚®æ‰“å­—æœºã€åŸå‹ï¼šé£é€Ÿ â†’ å­—ç¬¦æµ");
      log("commit", "init: anemometer â†’ serial â†’ glyphs");
      capture("letters-rising-like-kites");
  }},
  {at: 16:22, place:"CityPark", mood:"Playful", do: fn(){
      wander("CityPark");
      post("ä»Šå¤©çš„é£æŠŠ'è°¢è°¢'æ‰“æˆäº†é•¿é•¿çš„ä¸€è¡Œã€‚");
      capture("windtype-hello");
  }},
  {at: 17:50, place:"Grocer",   mood:"Curious", do: fn(){
      wander("Grocer");
      capture("pear-skin-like-planets");
  }},
  {at: 18:10, place:"Home",     mood:"Focused", do: fn(){
      focus("æŠŠç™½å¤©çµæ„Ÿåˆ‡æˆ 10 å¼ å¡ç‰‡");
      notes.add(["é£é‚®æ‰“å­—æœº","å¤©è“é‚®æˆ³","plane-cat","å±•å…æ‹å¼¯é£","çº¸é£æœºå½±å­","æ¢¨å­è¡Œæ˜Ÿ"]);
      tidy("æ¡Œé¢ + ä¸‹è½½ + ä¾¿ç­¾å †");
  }},
  {at: 19:30, place:"Home",     mood:"Cozy",    do: fn(){
      brew("osmanthus oolong");
      snack("honey biscuit");
      log("lights", "amber-42%");
  }},
  {at: 20:40, place:"Home",     mood:"Playful", do: fn(){
      log("game", "pixel-garden lvl 10 â†’ airmail-doves unlocked");
      meme.save("cat-riding-paper-plane.png");
  }},
  {at: 21:28, place:"Home",     mood:"Grateful", do: fn(){
      letter("Y.", "å‘¨æœ«å»çœ‹é£åœ¨æ¡¥ä¸Šæ‰“å­—å§ã€‚");
      post("æŠŠæ„Ÿè°¢æ”¾è¿›ä¿¡å°ï¼Œäº¤ç»™é£ã€‚");
  }},
  {at: 22:36, place:"Roof",     mood:"Curious", do: fn(){
      read("ã€Šç¡å‰ä¸€é¡µ Â· æŠ¬å¤´æ˜¯é‚®å±€ã€‹");
      capture("first-star-stamp");
  }},
  {at: 23:18, place:"Nest",     mood:"Cozy",    do: fn(){
      log("sleep", "paper planes stacked Â· inbox zero-ish");
  }}
];

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Scheduler â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn run(schedule: Task[]) {
  log("boot", "Cyrene.Day7 init Â· theme airmail");
  schedule.sort(by: t => t.at);
  for (t in schedule) {
    log("tick", t.at + " @" + t.place + " [" + t.mood + "]");
    with_mood(t.mood, t.do);
    if (t.note) { log("note", t.note); }
  }
  log("shutdown", "Cyrene.Day7 completed");
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Mood Scope â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn with_mood(m Mood, f fn()) {
  switch (m) {
    case "Sleepy":   peace.setAmbient("soft");    break;
    case "Curious":  peace.setAmbient("bright");  break;
    case "Focused":  vibes.set("flow");           break;
    case "Playful":  vibes.set("bounce");         break;
    case "Cozy":     peace.setAmbient("warm");    break;
    case "Grateful": peace.setAmbient("dawn");    break;
  }
  f();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Fancy Decorations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/*
SQL(ish) log for vibes:

  CREATE TABLE diary (
    t     TIME,
    place TEXT,
    mood  TEXT,
    note  TEXT
  );

  INSERT INTO diary VALUES
    ('06:44','Nest','Sleepy','PASSCODE â†’ cyrene meme hello world'),
    ('10:08','Museum','Curious','é£åœ¨å±•å…å­¦ä¼šæ‹å¼¯'),
    ('12:20','PostOffice','Grateful','å¤©è“é‚®æˆ³ Â· ä¸¤å°ä¿¡å¯„å‡º'),
    ('14:18','Studio','Focused','ã€é£é‚®æ‰“å­—æœºã€åŸå‹ä¸Šçº¿'),
    ('16:22','CityPark','Playful','é£æŠŠè°¢è°¢æ‰“æˆé•¿é•¿çš„ä¸€è¡Œ'),
    ('18:10','Home','Focused','å¡ç‰‡ 10 æš Â· å°é¢æ¸…çˆ½');

Regex of the day:
  /^(airmail|paperplane|windtype){1,3}$/u

ASCII route (å¤§è‡´è·¯å¾„):
  Nest â†’ Balcony â†’ Metro â†’ Cafe â†’ Museum â†’ Bakery â†’ PostOffice â†’ Home â†’ Studio â†’ CityPark â†’ Grocer â†’ Home â†’ Roof â†’ Nest
*/

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CLI Facade â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
fn main(args[]) {
  if (args.contains("--hello")) { print("hello from Cyrene â†â†’ PASSCODE: ", PASSCODE); }
  if (args.contains("--meme"))  { meme.play("paper-plane-cat.gif"); }
  if (args.contains("--route")) { print("Day7 route drawn above. stamp your sky-blue day."); }
  run(day7);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/*
  â–“â–“â–“â–“â–“â–“â–“â–“â–“  ä»Šæ—¥æ‘˜è¦  â–“â–“â–“â–“â–“â–“â–“â–“â–“
  - è¯»äº† 3 é¡µï¼Œç¬‘äº† 6 æ¬¡ï¼Œèµ°äº† 8 åƒæ­¥
  - å¯„å‡º 2 å°ä¿¡ï¼šY. ä¸ Future Me
  - æ–°å¢çµæ„Ÿå¡ç‰‡ï¼š10
  - æœ€å–œæ¬¢çš„ç¬é—´ï¼šé£åœ¨å…¬å›­é‡Œæ›¿æˆ‘æ‰“å­—
  - ç•™è¨€ï¼šæŠŠæ„Ÿè°¢äº¤ç»™é£
*/

main(["--hello","--meme","--route"]); // End of decorative script



// 
//                                                                
//                       CYRENE DAYFLOW 7                           
// 
//

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ core â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
namespace Cyrene.Dayflow7;

import clock   from "@sky/time";
import places  from "@city/map";
import senses  from "@home/ambient";
import meme    from "@internet/meme";
import tea     from "@kitchen/tea";
import journal from "@mind/cards";

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ constants â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
const PASSPHRASE = "cyrene meme hello world";
const MOTD       = "æŠŠä¿¡äº¤ç»™é£";
const WEATHER    = "breezy-clear";
const ROUTE      = ["Nest","Balcony","Metro","Cafe","Museum","PostOffice","Studio","Park","Home","Roof","Nest"];

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
type HHMM  = 00:00..23:59;
type Place = "Nest" | "Balcony" | "Metro" | "Cafe" | "Museum" | "PostOffice" | "Studio" | "Park" | "Home" | "Roof";
type Mood  = "Sleepy" | "Curious" | "Focused" | "Playful" | "Cozy" | "Grateful";
type Step  = { at: HHMM, where: Place, mood: Mood, do: fn(), note?: string };

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn say(x)        { print(clock.now(), " :: ", x); }
fn stamp(k,v)    { say(k.pad(14) + " -> " + v); }
fn greet()       { stamp("greet", PASSPHRASE); }
fn breathe(n=3)  { stamp("breathe", n + " slow cycles"); }
fn sip(kind)     { stamp("sip", "â˜• " + kind); }
fn read(title)   { stamp("read", "ã€Š" + title + "ã€‹"); }
fn focus(topic)  { stamp("focus", "deep on " + topic); }
fn capture(tag)  { stamp("capture", "#" + tag); }
fn lights(mode)  { stamp("lights", mode); }
fn hello_world() { say("[print] hello world â†’ " + PASSPHRASE); }

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ schedule â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
let today: Step[] = [
  {at: 06:45, where:"Nest",      mood:"Sleepy",  do: fn(){
      senses.apply("sunrise"); breathe(4); greet(); hello_world();
  }, note:"air-chime intro"},
  {at: 07:14, where:"Balcony",   mood:"Curious", do: fn(){
      tea.brew("genmaicha"); sip("genmaicha"); read("ã€Šè½»å†™æœ¯ã€‹"); capture("paper-plane-shadow");
  }},
  {at: 08:00, where:"Metro",     mood:"Playful", do: fn(){
      meme.open("paper-plane-cat.gif"); stamp("meme","saved");
  }},
  {at: 08:32, where:"Cafe",      mood:"Focused", do: fn(){
      sip("oat flat white"); focus("å·¥å…·æ¸…å• & è·¯çº¿ç»ˆæ£€");
  }},
  {at: 10:10, where:"Museum",    mood:"Curious", do: fn(){
      read("ã€Šé£ä¸çº¿ã€‹"); capture("mobile-compass");
  }},
  {at: 12:18, where:"PostOffice",mood:"Grateful",do: fn(){
      stamp("sky-blue postmark"); capture("postmark-1137");
  }},
  {at: 14:20, where:"Studio",    mood:"Focused", do: fn(){
      focus("é£é‚®æ‰“å­—æœº Â· v1"); capture("glyph-kite");
  }},
  {at: 16:24, where:"Park",      mood:"Playful", do: fn(){
      capture("windtype-hello-park"); say("thank-you typed by wind");
  }},
  {at: 18:12, where:"Home",      mood:"Focused", do: fn(){
      journal.add(["é£é‚®æ‰“å­—æœº","å¤©è“é‚®æˆ³","plane-cat","å±•å…æ‹å¼¯é£"]); lights("amber-42%");
  }},
  {at: 22:56, where:"Home",      mood:"Grateful",do: fn(){
      say("goodnight, " + MOTD);
  }}
];

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ engine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn withMood(m: Mood, f: fn()) {
  switch (m) {
    case "Sleepy":   lights("pearl-25%"); break;
    case "Curious":  lights("silk-35%");  break;
    case "Focused":  lights("clear-60%"); break;
    case "Playful":  lights("candy-45%"); break;
    case "Cozy":     lights("amber-45%"); break;
    case "Grateful": lights("dawn-30%");  break;
  }
  f();
}

fn runDay(plan: Step[]) {
  say("boot â†’ weather = " + WEATHER + ", route = " + ROUTE.join(" â†’ "));
  for (s in plan.sort(by: x => x.at)) {
    say("â”€â”€ " + s.at + " @" + s.where + " [" + s.mood + "] â”€â”€");
    withMood(s.mood, s.do);
    if (s.note) { stamp("note", s.note); }
  }
  say("shutdown â†’ diary sealed Â· backup complete");
}

// â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ faux CLI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”’
fn main(argv[]) {
  if (argv.contains("--route")) { say("route preview: " + ROUTE.join(" â€” ")); }
  if (argv.contains("--meme"))  { meme.open("cat-riding-paper-plane.png"); }
  runDay(today);
}

main(["--route","--meme"]);
