# STM32F407 开发板项目说明文档

## 硬件资源概览

- **LED**
     - DS0 (红色): [LED0](file://D:\Mycodes\stm32\xilian_stm32f407\Drivers\BSP\LED\led.h#L43-L47) - `PF9`
     - DS1 (绿色): [LED1](file://D:\Mycodes\stm32\xilian_stm32f407\Drivers\BSP\LED\led.h#L48-L52) - `PF10`

- **串口1**
     - 使用 `PA9/PA10` 引脚，连接板载 USB 转串口芯片 CH340。

- **TFT LCD 模块**
     - 支持 ALIENTEK 2.8/3.5/4.3/7/10 寸屏幕，MCU 采用 16 位 8080 并行接口。

- **SD 卡**
     - 通过 SDIO 接口连接 (`SDIO_D0~D4`: `PC8~PC11`, `SDIO_SCK`: `PC12`, `SDIO_CMD`: `PD2`)。

- **Nor Flash**
     - SPI FLASH 芯片（型号为 25QXX），挂载于 `SPI1` 总线。

- **音频相关**
     - 集成 ES8388 音频 CODEC 芯片。
     - 提供 I2S 音频接口。
     - 支持 MJPEG 视频解码。

- **定时器**
     - 包含 ITM 和 TIM6 定时器模块。

---

## 注意事项

1. 默认串口波特率为 **115200**。
2. 使用 XCOM / SSCOM 等串口调试工具时，请注意是否支持 DTR/RTS 控制 MCU 复位及程序下载。
3. 所有通信数据建议避免包含回车换行符。
4. 若使用 USB 转串口功能，请确认驱动安装正确并识别为 USB_UART。
5. P10 接口复用 PA9/PA10，可作为普通 RXD/TXD 使用。
6. 屏幕驱动仅支持 RGB 接口。
7. 对于较大尺寸（如 4.3 寸及以上）屏幕，由于功耗较高，推荐外接电源供电（建议使用 12V 1A 电源适配器）。
8. 实际应用中，SD 卡应与主控保持良好接触，建议选用质量较好的 SD 卡。
9. SD 卡需新建 VIDEO 文件夹，并放入支持 MJPG 编码格式的 AVI 视频文件以及 PCM 编码的音频文件。更多细节请参阅《STM32F407 开发指南》中的音视频转换章节。

> ?? 小贴士：屏幕太小影响体验？可以尝试更换更大分辨率的显示屏！

---

## 快速开始指南

### 步骤一：编译固件

1. 打开 Keil uVision5。
2. 加载本项目的工程文件。
3. 进行代码修改后点击“Build”按钮完成编译。

### 步骤二：烧录固件至开发板

1. 使用 JTAG 或 SWD 下载器连接目标硬件。
2. 在 Keil 中配置好调试器参数。
3. 点击 “Download” 按钮将生成的 `.hex` 或 `.bin` 固件烧录进 MCU。

### 步骤三：准备 SD 卡

- 将 `sucai` 文件夹内的全部内容复制到 SD 卡根目录下。
- 特别是创建 `VIDEO` 文件夹，并放置符合要求的媒体文件。

### 步骤四：启动设备

1. 插入已准备好素材的 SD 卡。
2. 给开发板供电开机。
3. 设备会自动加载 SD 卡中的内容并运行对应功能。

---

## 参考资料

- https://cyrene.meme/  代码滚动效果和背景视频的来源
- stm32f407开发标准例程（视频播放器，汉字显示（烧录字库用））（项目基于此修改）
